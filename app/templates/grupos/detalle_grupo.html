<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
  <title>Detalle Grupo</title>
</head>

<body>
  <div style="display:flex; justify-content:space-between; align-items:center;">
    <div style="display:flex; align-items:center; gap:8px;">
      <a href="{{ url_for('evaluacion_bp.detalle_evaluacion', id=grupo.evaluacion_id) }}" class="back-arrow-group"
        style="color:var(--text-dark); display:flex; align-items:center;" aria-label="Volver">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"
          stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
      </a>
      <h1 style="margin:0;">Grupo {{ grupo.numero }}</h1>
    </div>
    <button type="button" class="btn-config-group"
      style="background:transparent; border:none; padding:8px; cursor:pointer; color:var(--text-dark);"
      aria-label="Configuración">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"
        stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
      </svg>
    </button>
  </div>
  <p><strong>ID:</strong> {{ grupo.id }}</p>
  <p><strong>Evaluación:</strong> {{ grupo.evaluation.titulo if grupo.evaluation else grupo.evaluacion_id }}</p>

  <h2>Estudiantes</h2>
  <ul>
    {% for estudiante in grupo.estudiantes %}
    <li>{{ estudiante.nombre }} {{ estudiante.apellido }} — {{ estudiante.cedula }}</li>
    {% else %}
    <li>No hay estudiantes en este grupo.</li>
    {% endfor %}
  </ul>

  <div class="modal-actions">
    <button type="button" class="open-add-students" data-grupo-id="{{ grupo.id }}"
      data-grupo-num="{{ grupo.numero }}">Agregar estudiante</button>
  </div>

  <div id="config-group-modal-inner" class="modal-backdrop"
    style="display:none; z-index:1400; position:absolute; top:0; left:0; width:100%; height:100%; border-radius:8px;">
    <div class="modal modal--small"
      style="max-width:350px; background:white; position:relative; box-shadow:0 10px 40px rgba(0,0,0,0.2);">
      <h3 style="margin-top:0; text-align:center;">Configuración de Grupo</h3>
      <div class="warning" style="margin-bottom:1rem; text-align:center;">Advertencia: eliminar este grupo borrará
        también las inscripciones.</div>
      <div style="text-align:center;">
        <button type="button" class="delete-group btn-danger" data-grupo-id="{{ grupo.id }}">Eliminar grupo</button>
      </div>
      <div style="text-align:center; margin-top:2rem;">
        <button type="button" id="btn-close-config-group" class="btn secondary">Cerrar</button>
      </div>
    </div>
  </div>


</body>

</html>